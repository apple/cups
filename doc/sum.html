<HTML>
<HEAD>
<TITLE>DRAFT - CUPS Software Users Manual</TITLE>
<META NAME="AUTHOR" CONTENT="Easy Software Products">
<META NAME="COPYRIGHT" CONTENT="Copyright 1997-1999, All Rights Reserved">
<META NAME="DOCNUMBER" CONTENT="CUPS-SUM-1.0.0b1">
</HEAD>
<BODY>
<CENTER><A HREF=#contents><IMG SRC="images/cups-large.gif" BORDER=0><BR>
<H1>DRAFT - CUPS Software Users Manual</H1></A><BR>
CUPS-SUM-1.0.0b1<BR>
Easy Software Products<BR>
Copyright 1997-1999, All Rights Reserved<BR>
</CENTER>
<HR>
<H1 ALIGN=CENTER><A NAME=CONTENTS>Table of Contents</A></H1>
<BR>
<BR><B><A HREF=#1>Preface</A></B>
<UL>
<LI><A HREF=#1_1>System Overview</A></LI>
<LI><A HREF=#1_2>Document Overview</A></LI>
</UL>
<B><A HREF=#2>1 - Printing System Overview</A></B>
<UL>
<LI><A HREF=#2_1>The Printing Problem</A></LI>
<LI><A HREF=#2_2>The Technology</A></LI>
<LI><A HREF=#2_3>Jobs</A></LI>
<LI><A HREF=#2_4>Classes</A></LI>
<LI><A HREF=#2_5>Filters</A></LI>
<LI><A HREF=#2_6>Printer Drivers</A></LI>
<LI><A HREF=#2_7>Networking</A></LI>
</UL>
<B><A HREF=#3>2 - Using the Printing System</A></B>
<UL>
<LI><A HREF=#3_1>Submitting Files for Printing</A></LI>
<LI><A HREF=#3_2>Choosing a Printer</A></LI>
<LI><A HREF=#3_3>Setting Printer Options</A></LI>
<LI><A HREF=#3_4>Printing Multiple Copies</A></LI>
<LI><A HREF=#3_5>Checking the Printer Status from the Command-Line</A></LI>
<LI><A HREF=#3_6>Checking the Printer Status from the Web</A></LI>
<LI><A HREF=#3_7>Canceling a Print Job</A></LI>
</UL>
<B><A HREF=#4>3 - Standard Printer Options</A></B>
<UL>
<LI><A HREF=#4_1>General Options</A></LI>
<UL>
<LI><A HREF=#4_1_1>Selecting the Media Size, Type, and Source</A></LI>
<LI><A HREF=#4_1_2>Setting the Orientation</A></LI>
<LI><A HREF=#4_1_3>Printing On Both Sides of the Paper</A></LI>
<LI><A HREF=#4_1_4>Selecting a Range of Pages</A></LI>
<LI><A HREF=#4_1_5>Setting the Brightness</A></LI>
<LI><A HREF=#4_1_6>Setting the Gamma Correction</A></LI>
</UL>
<LI><A HREF=#4_2>Text Options</A></LI>
<UL>
<LI><A HREF=#4_2_1>Setting the Number of Characters Per Inch</A></LI>
<LI><A HREF=#4_2_2>Setting the Number of Lines Per Inch</A></LI>
<LI><A HREF=#4_2_3>Setting the Number of Columns</A></LI>
<LI><A HREF=#4_2_4>Setting the Page Margins</A></LI>
<LI><A HREF=#4_2_5>Pretty Printing</A></LI>
</UL>
<LI><A HREF=#4_3>Image Options</A></LI>
<UL>
<LI><A HREF=#4_3_1>Scaling the Image</A></LI>
<LI><A HREF=#4_3_2>Adjusting the Hue (Tint) of an Image</A></LI>
<LI><A HREF=#4_3_3>Adjusting the Saturation (Color) of an Image</A></LI>
</UL>
</UL>
<HR>
<H1 ALIGN=RIGHT><A NAME=1>Preface</A></H1>
 This software users manual describes how to use the Common UNIX 
Printing System (&quot;CUPS&quot;) Version 1.0.0. 
<H2><A NAME=1_1>System Overview</A></H2>
 The Common UNIX Printing System provides a portable printing layer for 
 UNIX&reg; operating systems. It has been developed by Easy Software 
 Products to promote a standard printing solution for all UNIX vendors 
 and users. CUPS provides the System V and Berkeley command-line 
interfaces. 
<P>CUPS uses the Internet Printing Protocol (IETF-IPP) as the basis for 
managing print jobs and queues. The Line Printer Daemon (LPD, RFC1179), 
Server Message Block (SMB), and AppSocket protocols are also supported 
with reduced functionality. </P>
<P>CUPS adds network printer browsing and PostScript Printer 
Description (&quot;PPD&quot;)-based printing options to support real world 
applications under UNIX. </P>
<P>CUPS also includes a customized version of GNU GhostScript 
(currently based off GNU GhostScript 4.03) and an image file RIP that 
can be used to support non-PostScript printers. </P>
<H2><A NAME=1_2>Document Overview</A></H2>
<P>This software users manual is organized into the following sections:</P>
<UL>
<LI>1 - Printing System Overview</LI>
<LI>2 - Using the Printing System</LI>
<LI>3 - Standard Printer Options</LI>
<LI>4 - Checking the Status Via the Web</LI>
</UL>
<H1 ALIGN=RIGHT><A NAME=2>1 - Printing System Overview</A></H1>
<P>This chapter provides an overview of how the Common UNIX Printing 
System works. </P>
<H2><A NAME=2_1>The Printing Problem</A></H2>
<P>For years <I>the printing problem</I> has plagued UNIX&reg;. Unlike 
Microsoft&reg; Windows&reg; or MacOS, UNIX has no standard interface or system 
in place for supporting printers. Among the solutions previously 
available, the Berkeley and System V printing systems are the most 
prevalent. </P>
<P>These printing systems support line printers (text only) or 
PostScript printers (text and graphics), and with some coaxing they can 
be made to support a full range of printers and file formats. However, 
because each varient of the UNIX operating system uses a different 
printing system than the next, developing printer drivers for a wide 
range of printers is extremely difficult. That combined with the 
limited volume of customers for each UNIX varient has forced most 
printer vendors to give up supporting UNIX entirely. </P>
<P>The Common UNIX Printing System, or CUPS, is designed to eliminate <I>
the printing problem</I>. One common printing system can be used by all 
UNIX varients to support the printing needs of users. Printer vendors 
can use its modular filter interface to develop a single driver program 
that supports a wide range of file formats with little or no effort. 
 Since CUPS provides both the System V and Berkeley printing commands, 
users (and applications) can reap the benefits of this new technology 
with no changes. </P>
<H2><A NAME=2_2>The Technology</A></H2>
<P>CUPS is based upon an emerging Internet standard called the Internet 
Printing Protocol, or IPP. IPP has been embraced by dozens of printer 
and printer server manufacturers, and will be supported by the next 
Microsoft Windows operating system. </P>
<P>IPP defines a standard protocol for printing as well as managing 
print jobs and printer options like media size, resolution, and so 
forth. Like all IP-based protocols, IPP can be used locally or over the 
Internet to printers hundreds or thousands of miles away. Unlike other 
protocols, however, IPP also supports access control, authentication, 
and encryption, making it a much more secure printing solution than 
older ones. </P>
<P>IPP is layered on top of the Hyper-Text Transport Protocol, or HTTP, 
which is the basis of web servers on the Internet. This allows the user 
to view documentation and status information on a printer or server 
using their web browser. </P>
<P>CUPS provides a complete IPP/1.0-based printing system that provides 
Basic authentication and domain or IP-based access control. Digest 
authentication and TLS encryption will be available in future versions 
of CUPS. </P>
<H2><A NAME=2_3>Jobs</A></H2>
<P>Each file that is submitted for printing is called a <I>job</I>. 
 Jobs are identified by a unique number starting at 1 and are assigned 
to a particular destination (usually a printer). Jobs can also have 
options associated with them such as media size, number of copies, and 
priority. </P>
<H2><A NAME=2_4>Classes</A></H2>
<P>CUPS supports collections of printers known as <I>classes</I>. Jobs 
sent to a class are forwarded to the first available printer in the 
class. </P>
<H2><A NAME=2_5>Filters</A></H2>
<P>Filters allow a user or application to print many types of files 
without extra effort. Print jobs sent to a CUPS server are filtered 
before sending them to a printer. Some filters convert job files to 
different formats that the printer can understand. Others perform page 
selection and ordering tasks. <I>Backend</I> filters perform the most 
important task of all - they send the filtered print data to the 
printer. </P>
<P>CUPS provides filters for printing many types of image files, 
HP-GL/2 files, PDF files, and text files. CUPS also supplies PostScript 
and image file Raster Image Processors, or RIPs, that convert 
PostScript or image files into bitmaps that can be sent to a raster 
printer. </P>
<P>CUPS provides backends for printing over parallel and serial ports, 
and over the network via the JetDirect (AppSocket), Server Message 
Block, and Line Printer Daemon protocols. </P>
<H2><A NAME=2_6>Printer Drivers</A></H2>
<P>Printer drivers in CUPS consist of one of more filters specific to a 
printer. CUPS includes a sample printer driver for Hewlett-Packard 
LaserJet and DeskJet printers. While this driver does not generate 
optimal output for different printer models, it does demonstrate how 
you can write your own printer drivers and incorporate them into CUPS. </P>
<H2><A NAME=2_7>Networking</A></H2>
<P>Printers and classes on the local system are automatically shared 
with other systems on the network. This allows you to setup one system 
to print to a printer and use this system as a printer server or spool 
host for all of the others.  If there is only one occurrence of a 
printer on a network, then that printer can be accessed using its name 
alone. If more than one printer exists with the same name, users must 
select the printer by specifying which server to use (e.g. 
&quot;printer@host1&quot; or &quot;printer@host2&quot;.) </P>
<P>CUPS also provides <I>implicit classes</I>, which are collections of 
printers and/or classes with the same name. This allows you to setup 
multiple servers pointing to the same physical network printer, for 
example, so that you aren't relying on a single system for printing. 
Because this also works with printer classes, you can setup multiple 
servers and printers and never worry about a &quot;single point of failure&quot; 
unless all of the printers and servers goes down! </P>
<H1 ALIGN=RIGHT><A NAME=3>2 - Using the Printing System</A></H1>
<P>This chapter shows you how to submit, query, and cancel print jobs 
to different printers. </P>
<H2><A NAME=3_1>Submitting Files for Printing</A></H2>
<P>CUPS provides both the System V (<CODE>lp</CODE>) and Berkeley (<CODE>
lpr</CODE>) printing commands. To print a file to the default printer 
on the system (or your only printer if you have only one) you just need 
to type: </P>
<UL>
<PRE>
% lp filename ENTER
</PRE>
</UL>
<P>or: </P>
<UL>
<PRE>
% lpr filename ENTER
</PRE>
</UL>
<P>CUPS understands many different types of files directly, including 
PostScript and image files. This allows you to print from inside your 
applications or at the command-line, whichever is most convenient! </P>
<H2><A NAME=3_2>Choosing a Printer</A></H2>
<P>Many systems will have more than one printer available to the user. 
These printers can be attached to the local system via a parallel or 
serial port, or available over the network. </P>
<P>To see a list of available printers, use the <CODE>lpstat</CODE>
 command: </P>
<UL>
<PRE>
% lpstat -p -d ENTER
</PRE>
</UL>
<P>The &quot;-p&quot; option specifies that you want to see a list of printers, 
and the &quot;-d&quot; option reports the current system default printer or 
class. </P>
<P>To print to a specific printer, use the &quot;-d&quot; option to the <CODE>lp</CODE>
 command: </P>
<UL>
<PRE>
% lp -d printer filename ENTER
</PRE>
</UL>
<P>or the &quot;-P&quot; option to the <CODE>lpr</CODE> command: </P>
<UL>
<PRE>
% lpr -P printer filename ENTER
</PRE>
</UL>
<H2><A NAME=3_3>Setting Printer Options</A></H2>
<P>For many types of files, the default printer options may be 
sufficient for your needs. However, there may be times when you need to 
change the options for a particular file you are printing. </P>
<P>The <CODE>lp</CODE> command allows you to pass printer options using 
the &quot;-o&quot; option: </P>
<UL>
<PRE>
% lp -o landscape -o scaling=75 -o media=A4 filename.jpg
</PRE>
</UL>
<P>The <CODE>lpr</CODE> command has no command-line option for printer 
options. </P>
<P>The available printer options vary depending on the printer. The 
standard options are described in <A HREF=#4>Chapter 3</A>. </P>
<H2><A NAME=3_4>Printing Multiple Copies</A></H2>
<P>Both the <CODE>lp</CODE> and <CODE>lpr</CODE> commands have options 
for printing more than one copy of a file: </P>
<UL>
<PRE>
% lp -n num-copies filename ENTER
% lpr -#num-copies filename ENTER
</PRE>
</UL>
<P>Copies are normally <I>not</I> collated for you. To get collated 
copies use the <CODE>lp</CODE> command with the &quot;-o Collate=True&quot; 
option: </P>
<UL>
<PRE>
% lp -n num-copies -o Collate=True filename ENTER
</PRE>
</UL>
<H2><A NAME=3_5>Checking the Printer Status from the Command-Line</A></H2>
<P>The <CODE>lpstat</CODE> command can be used to check for jobs that 
you have submitted for printing: </P>
<UL>
<PRE>
% lpstat ENTER
Printer-1 johndoe 4427776
Printer-2 johndoe 15786
Printer-3 johndoe 372842
</PRE>
</UL>
<P>The jobs are listed in the order they will be printed. To see which 
files and printers are active, use the &quot;-p&quot; option: </P>
<UL>
<PRE>
% lpstat -p ENTER
printer DeskJet now printing DeskJet-1.
</PRE>
</UL>
<P>Or to show the jobs and the printers, use the &quot;-o&quot; and &quot;-p&quot; options: </P>
<UL>
<PRE>
% lpstat -o -p ENTER
Printer-1 johndoe 4427776
Printer-2 johndoe 15786
Printer-3 johndoe 372842
printer DeskJet now printing DeskJet-1.
</PRE>
</UL>
<H2><A NAME=3_6>Checking the Printer Status from the Web</A></H2>
<P>Since CUPS uses the Internet Printing Protocol, it is also a 
full-featured web server. To use your web browser to monitor the 
printers on your system, open the URL &quot;<A HREF=http://localhost:631>
http://localhost:631</A>&quot;. From there you can view the status of 
classes, jobs, and printers with the click of a button! </P>
<H2><A NAME=3_7>Canceling a Print Job</A></H2>
<P>The <CODE>cancel</CODE> command cancels a print job: </P>
<UL>
<PRE>
% cancel job-id ENTER
</PRE>
</UL>
<P>The <I>job-id</I> is a number that was reported to you by the <CODE>
lp</CODE> or <CODE>lpstat</CODE> commands. </P>
<H1 ALIGN=RIGHT><A NAME=4>3 - Standard Printer Options</A></H1>
<P>This chapter describes the standard printer options that are 
available when printing with the <CODE>lp</CODE> command. </P>
<H2><A NAME=4_1>General Options</A></H2>
<P>The following options apply when printing all types of files. </P>
<H3><A NAME=4_1_1>Selecting the Media Size, Type, and Source</A></H3>
<P>The &quot;-o media=xyz&quot; option sets the media size, type, and/or source: </P>
<UL>
<PRE>
% lp -o media=Letter filename ENTER
% lp -o media=Letter,MultiPurpose filename ENTER
% lp -o media=Letter,Transparency filename ENTER
% lp -o media=Letter,MultiPurpose,Transparency filename ENTER
</PRE>
</UL>
<P>The available media sizes, types, and sources depend on the printer, 
but most support the following options (case is significant): </P>
<UL>
<LI><CODE>Letter</CODE> - US Letter (8.5x11 inches, or 216x279mm) </LI>
<LI><CODE>Legal</CODE> - US Legal (8.5x14 inches, or 216x356mm) </LI>
<LI><CODE>A4</CODE> - ISO A4 (8.27x11.69 inches, or 210x297mm) </LI>
<LI><CODE>COM10</CODE> - US #10 Envelope (9.5x4.125 inches, or 
 241x105mm) </LI>
<LI><CODE>DL</CODE> - ISO DL Envelope (8.66x4.33 inches, or 220x110mm) </LI>
<LI><CODE>Transparency</CODE> - Transparency media type or source </LI>
<LI><CODE>Upper</CODE> - Upper paper tray </LI>
<LI><CODE>Lower</CODE> - Lower paper tray </LI>
<LI><CODE>MultiPurpose</CODE> - Multi-purpose paper tray </LI>
<LI><CODE>LargeCapacity</CODE> - Large capacity paper tray </LI>
</UL>
<P>The actual options supported are defined in the printer's PPD file 
in the <CODE>PageSize</CODE>, <CODE>InputSlot</CODE>, and <CODE>
MediaType</CODE> options. </P>
<H3><A NAME=4_1_2>Setting the Orientation</A></H3>
<P>The &quot;-o landscape&quot; option will rotate the page 90 degrees to print 
in landscape orientation: </P>
<UL>
<PRE>
% lp -o landscape filename ENTER
</PRE>
</UL>
<H3><A NAME=4_1_3>Printing On Both Sides of the Paper</A></H3>
<P>The &quot;-o sides=two-sided-short&quot; and &quot;-o sides=two-sided-long&quot; options 
will enable duplexing on the printer (if the printer supports it.) The 
&quot;two-sided-short&quot; option is suitable for landscape pages, while the 
&quot;two-sided-long&quot; option is suitable for portrait pages: </P>
<UL>
<PRE>
% lp -o sides=two-sided-short filename ENTER
% lp -o sides=two-sided-long filename ENTER
</PRE>
</UL>
<H3><A NAME=4_1_4>Selecting a Range of Pages</A></H3>
<P>The &quot;-o page-ranges=pages&quot; option selects a range of pages for 
printing: </P>
<UL>
<PRE>
% lp -o page-ranges=1 filename ENTER
% lp -o page-ranges=1-4 filename ENTER
% lp -o page-ranges=1-4,7,9-12 filename ENTER
</PRE>
</UL>
<P>As shown above, the <I>pages</I> value can be a single page, a range 
of pages, or a collection of page numbers and ranges separated by 
commas. The pages will always be printed in ascending order, regardless 
of the order of the pages in the &quot;page-range&quot; option. </P>
<P>To select the even or odd pages, use the &quot;-o page-set=set&quot; option: </P>
<UL>
<PRE>
% lp -o page-set=odd filename ENTER
% lp -o page-set=even filename ENTER
</PRE>
</UL>
<H3><A NAME=4_1_5>Setting the Brightness</A></H3>
<P>You can control the overall brightness of the printed output using 
the &quot;-o brightness=percent&quot; option: </P>
<UL>
<PRE>
% lp -o brightness=120 filename ENTER
</PRE>
</UL>
<P>Values greater than 100 will lighten the print, while values less 
than 100 will darken it. </P>
<H3><A NAME=4_1_6>Setting the Gamma Correction</A></H3>
<P>You can control the overall gamma correction of the printed output 
using the &quot;-o gamma=value&quot; option: </P>
<UL>
<PRE>
% lp -o gamma=1700 filename ENTER
</PRE>
</UL>
<P>Values greater than 1000 will lighten the print, while values less 
than 1000 will darken it. </P>
<H2><A NAME=4_2>Text Options</A></H2>
<P>The following options apply when printing text files. </P>
<H3><A NAME=4_2_1>Setting the Number of Characters Per Inch</A></H3>
<P>The &quot;-o cpi=value&quot; option sets the number of characters per inch: </P>
<UL>
<PRE>
% lp -o cpi=12 filename ENTER
</PRE>
</UL>
<H3><A NAME=4_2_2>Setting the Number of Lines Per Inch</A></H3>
<P>The &quot;-o lpi=value&quot; option sets the number of lines per inch: </P>
<UL>
<PRE>
% lp -o lpi=8 filename ENTER
</PRE>
</UL>
<H3><A NAME=4_2_3>Setting the Number of Columns</A></H3>
<P>The &quot;-o columns=value&quot; option sets the number of text columns: </P>
<UL>
<PRE>
% lp -o columns=2 filename ENTER
</PRE>
</UL>
<H3><A NAME=4_2_4>Setting the Page Margins</A></H3>
<P>Normally the page margins are set to the hard limits of the printer. 
To adjust the page margins use the &quot;-o page-left=value&quot;, &quot;-o 
page-right=value&quot;, &quot;-o page-top=value&quot;, and &quot;-o page-bottom=value&quot; 
options: </P>
<UL>
<PRE>
% lp -o page-left=value filename ENTER
% lp -o page-right=value filename ENTER
% lp -o page-top=value filename ENTER
% lp -o page-bottom=value filename ENTER
</PRE>
</UL>
<P>The <I>value</I> argument is the margin in points; each point is 
1/72 inch or 0.35mm. </P>
<H3><A NAME=4_2_5>Pretty Printing</A></H3>
<P>The &quot;-o prettyprint&quot; option puts a header at the top of each page 
with the page number, job title (usually the filename), and the date. 
Also, C and C++ keywords are highlighted, and comment lines are 
italicized: </P>
<UL>
<PRE>
% lp -o prettyprint filename ENTER
</PRE>
</UL>
<H2><A NAME=4_3>Image Options</A></H2>
<P>The following options apply when printing image files. </P>
<H3><A NAME=4_3_1>Scaling the Image</A></H3>
<P>The &quot;-o scaling=percent&quot; and &quot;-o ppi=value&quot; options change the size 
of a printed image: </P>
<UL>
<PRE>
% lp -o scaling=percent filename ENTER
% lp -o ppi=value filename ENTER
</PRE>
</UL>
<P>The scaling <I>percent</I> is a number from 1 to 800 specifying the 
size in relation to the page (<I>not</I> the image.) A scaling of 100 
percent will fill the page as completely as the image aspect ratio 
allows. A scaling of 200 percent will print on up to 4 pages. </P>
<P>The ppi <I>value</I> is a number from 1 to 1200 specifying the 
resolution of the image in pixels per inch. An image that is 3000x2400 
pixels will print 10x8 inches at 300 pixels per inch, for example. If 
the specified resolution makes the image larger than the page, multiple 
pages will be printed to satisfy the request. </P>
<H3><A NAME=4_3_2>Adjusting the Hue (Tint) of an Image</A></H3>
<P>The &quot;-o hue=value&quot; option will adjust the hue of the printed image, 
much like the tint control on your television: </P>
<UL>
<PRE>
% lp -o hue=value filename ENTER
</PRE>
</UL>
<P>The <I>value</I> argument is a number from -360 to 360 and 
represents the color hue rotation. The following table summarizes the 
change you'll see with different colors: 
<CENTER>
<TABLE BORDER=1 WIDTH=50%>
<TR><TH>Original</TH><TH>hue=-45</TH><TH>hue=45</TH></TR>
<TR><TD>Red</TD><TD>Purple</TD><TD>Yellow-orange</TD></TR>
<TR><TD>Green</TD><TD>Yellow-green</TD><TD>Blue-green</TD></TR>
<TR><TD>Yellow</TD><TD>Orange</TD><TD>Green-yellow</TD></TR>
<TR><TD>Blue</TD><TD>Sky-blue</TD><TD>Purple</TD></TR>
<TR><TD>Magenta</TD><TD>Indigo</TD><TD>Crimson</TD></TR>
<TR><TD>Cyan</TD><TD>Blue-green</TD><TD>Light-navy-blue</TD></TR>
</TABLE>
</CENTER>
</P>
<H3><A NAME=4_3_3>Adjusting the Saturation (Color) of an Image</A></H3>
<P>The &quot;-o saturation=percent&quot; option adjusts the saturation of the 
colors in an image, much like the color knob on your television: </P>
<UL>
<PRE>
% lp -o saturation=percent filename ENTER
</PRE>
</UL>
<P>The <I>percent</I> argument specifies the color saturation from 0 to 
200. A color saturation of 0 produces a black-and-white print, while a 
value of 200 will make the colors extremely intense. </P>
</BODY>
</HTML>
